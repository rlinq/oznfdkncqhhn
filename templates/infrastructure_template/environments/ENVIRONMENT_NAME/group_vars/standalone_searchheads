# Version parameter is used to validate this file
# against cca_for_splunk framework requirements.
cca_infrastructure_standalone_searchheads_file_version: '2022.3.2 '

# This group_vars file holds a skeleton to custom Splunk configuration
# CCA already have the essential configuration covered in
# group_vars/all/general_settings. Review those settings before applying
# additional settings here.

splunk_conf_group_settings:

 - name: Splunk server.conf
   filename: server.conf
   filepath: '{{ splunk_path }}/etc/system/local'
   sections:
    - section: 'general'
      options:
       - option: 'serverName'
         value: '{{ inventory_hostname }}'
       - option: 'pass4SymmKey'
         value: '{{ cca_splunk_server_general_pass4SymmKey_hash }}'
       - option: 'site'
         value: "{{ site | default('site0') }}"
         comment: >-
           Set site reference in host inventory for all search heads
           For a search head, "site0" disables search affinity

    - section: 'license'
      options:
       - option: 'master_uri'
         value: "{{ cca_splunk_license_manager_uri }}"
         state: "{{Â 'absent' if is_license_manager | default(false) else 'present' }}"
         comment: >-
          Configure license master uri with a DNS alias, to ease future license master migration

    - section: 'config_change_audit'
      options:
       - option: 'disabled'
         value: 'false'
       - option: 'mode'
         value: 'auto'


    - section: ''
      options:
       - option: ''
         value: ''
         comment: >-

 - name: Splunk inputs.conf
   filename: inputs.conf
   filepath: '{{ splunk_path }}/etc/system/local'
   sections:
    - section: ''
      options:
       - option: ''
         value: ''
         comment: >-

 - name: Splunk outputs.conf
   filename: outputs.conf
   filepath: '{{ splunk_path }}/etc/system/local'
   sections:
    - section: ''
      options:
       - option: ''
         value: ''
         comment: >-

 - name: Splunk limits.conf
   filename: limits.conf
   filepath: '{{ splunk_path }}/etc/system/local'
   sections:
    - section: ''
      options:
       - option: ''
         value: ''
         comment: >-

 - name: Splunk web.conf
   filename: web.conf
   filepath: '{{ splunk_path }}/etc/system/local'
   sections:
    - section: ''
      options:
       - option: ''
         value: ''
         comment: >-

 - name: Splunk ui-prefs.conf
   filename: ui-prefs.conf
   filepath: '{{ splunk_path }}/etc/system/local'
   sections:
    - section: ''
      options:
       - option: ''
         value: ''
         comment: >-

